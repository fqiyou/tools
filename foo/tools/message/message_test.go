package message

import (
	"github.com/fqiyou/tools/foo/util"
	"testing"
)


func TestToMessage(t *testing.T){

	var msg Message

	str := "MDAwMDAwNjd7ImN0aW1lIjoxNTQ0MDExNzYxMDkwLCJpcCI6IjIyMi4yNDQuMjE4LjIxNyIsInByb2plY3QiOiJuZXdzZWFybiJ9ZXlKa2FYTjBhVzVqZEY5cFpDSTZJakUyTmpnMFpHWTNabVpsTWpJdE1EVXpOR0U1TkRSaVlqZ3dPRFF0TlRBd056QmlNemd0TWpNd05EQXdMVEUyTmpnMFpHWTRNREF3WmpjaUxDSnNhV0lpT25zaUpHeHBZaUk2SW1weklpd2lKR3hwWWw5dFpYUm9iMlFpT2lKamIyUmxJaXdpSkd4cFlsOTJaWEp6YVc5dUlqb2lNUzQzTGpFMEluMHNJbkJ5YjNCbGNuUnBaWE1pT25zaUpITmpjbVZsYmw5b1pXbG5hSFFpT2pZME1Dd2lKSE5qY21WbGJsOTNhV1IwYUNJNk16WXdMQ0lrYkdsaUlqb2lhbk1pTENJa2JHbGlYM1psY25OcGIyNGlPaUl4TGpjdU1UUWlMQ0lrYkdGMFpYTjBYM0psWm1WeWNtVnlJam9pSWl3aUpHeGhkR1Z6ZEY5eVpXWmxjbkpsY2w5b2IzTjBJam9pSWl3aVlXUmZjR0ZuWlNJNkltNWxkM05mWkdWMFlXbHNJaXdpWVdSZmNHOXphWFJwYjI0aU9qRXdMQ0poWkY5aFkzUnBiMjRpT2lKbGVIQnZjM1Z5WlNJc0ltRmtYMmxrSWpvaWRUTTFNVFl3TVRVaUxDSmhaRjkwZVhCbElqb2lNaTB4T1NJc0luQmhaMlZmZFhKc0lqb2lhSFIwY0hNNkx5OTNkM2N1ZUdsdWQyVnVlbWgxWVc0dWJtVjBMM05vWVhKbEwzaDNlbDloY25ScFkyeGxMMkZ5ZEdsamJHVmZhSFIwY0hNMFgyeHZibWN1YUhSdGJDSXNJbU5vWVc1dVpXd2lPaUlpTENKemIzVnlZMlVpT2lJMElpd2lZMkYwWldkdmNua2lPakFzSW05eWFXZHBiaUk2SWpRaUxDSjFjMlZ5U1dRaU9pSXlPVGs1T1RNME1pSXNJblZoSWpvaWJXOTZhV3hzWVM4MUxqQWdLR3hwYm5WNE95QmhibVJ5YjJsa0lEVXVNUzR4T3lCeVpXUnRhU0F6SUdKMWFXeGtMMnh0ZVRRM2Rqc2dkM1lwSUdGd2NHeGxkMlZpYTJsMEx6VXpOeTR6TmlBb2EyaDBiV3dzSUd4cGEyVWdaMlZqYTI4cElIWmxjbk5wYjI0dk5DNHdJR05vY205dFpTODFOeTR3TGpJNU9EY3VNVE15SUcxdlltbHNaU0J6WVdaaGNta3ZOVE0zTGpNMklpd2lKRzl6SWpvaVlXNWtjbTlwWkNJc0lpUmtaWFpwWTJWZmFXUWlPaUl5T1RrNU9UTTBNaUlzSWlScGJXVnBJam9pTWprNU9Ua3pORElpTENJa2FYTmZabWx5YzNSZlpHRjVJanBtWVd4elpYMHNJblI1Y0dVaU9pSjBjbUZqYXlJc0ltVjJaVzUwSWpvaVYyVmlRV1JFWVhSaElpd2lYMjV2WTJGamFHVWlPaUl3T1RjeE5qSXhOakkzTVRRMU5qSWlmUT09"
	//str = "MDAwMDAwNjZ7ImN0aW1lIjoxNTQ0MTQ4ODkLCJpcCI6IjExNy4xODguMjM4LjI1MSIsInByb2plY3QiOiJicm93c2VyIn1INHNJQUFBQUFBQUFBTzFZelc3ak5oQitsVUR4d1FWaVFkUy9jc3U2U1RkQTJpemkzZTZoV3hpMFJObU1aVktnS0NmZVJWNmdyOUFIYUMrOUZ5ajZObDMwTlRxVVpNdC9VcHJzWHc1N000ZnpmVE1jRG1kRy91bWROcFFDaDlNaGpiUmpoSkJyZWNneXpTTk4waGtCaVdQYnlQWjl6M0VDRDRTTEZJUmFnZENPdEZUd2xBaEpTYVlkdjlNNkNSM0I1Z21MQkFlMkk2MFRZaUVvRVNEODU4OC8zdi82OTcrLy9mWCtsOS9WRHMrR2N5SXl5aGxzK2pyU0RTV055SnlHcEhCRmkwd2JJOXUwUGNzeEFqZkdhaDhNck1HUURrQmZ5V2M4SWdsSXJuNjg2SjFjR0VGcFlkT1hMQlNFc09FTmplUUV6bVg0UmkyY0VEcWVTTzNZTkUwbG5XR1d4emlVdVNoOGYvN3E1UFhwdWVMQWFicGgzOWF0MHZFYkdsUHRXSXFjd0lJUmVjUEZkRmdGNi9YNW1RTGphQWlVSlpMY3Bqd0Q5bElNdjJtNVlaUnJQRlk0eWlTWVA5Sm9OZ1NoSUNvb3lsaVlVTUxrY1B0K0NtZ1JPY3RGUnNsY2VlRDBYRmpuR1JIbjZwSU4yMFVCT3RMdWlmYWVvRGFkZnl2V2tCWlJIa0k4cmRKN3h0bGlSdVdpUEdDcDFtUVZUa1ZWU29DTHRtbllzR1c2Z2FtT1BjR01GUTVGSk1aNUlsWGNnVDJtSXBQRENBTjdqSk9NM01IQmFDWXBDMlY1Tk1jMEk4Y25jUzhJZ3Fobm94SHFCWDdzOXd6UE5XUFhjd0kzOG9DclNONTlTZHlVZEkzSm9BQXpJaWRjV1E4aGlrdGhSQ1NtU1NHYzZTSG5reHpyUlpSMXJNZUhoL2p3Y0VCWXhzVnpLdlZyUEllMWpUUTRENW5EaFN1bm9tK3hWRUVheGttZVRiWlNJREJjMzdzNzJualFQU3Z3TE5zTWJHdjdRZnVPYTdsZkgvUUhQT2hjS0EvaEJ4RmlHR0o0WHJCVTE2YUR2ajdnNFpUSWx4Qnpuc3ZUMjVDazZva2ZIOGhTVXNHYU0wSnhrQ1ZNUDBucEdzZi9OZktHdlpGWUh0ekRQZEp4ZDRVOVpXUEtTSkY5eDRIeFRSc0RCQlVLbGRBSlpDOEFoZUNpMitlekdXZURmQVQzUUVld1dSQTVhRWxFdVM2SUtvTnpjcXRIQlhUZXFlRm5DYi9CbzRTc0NDNVp5WUFNczRVaUF3cThBbCt5WjVETXFTQ1pLckVYV0pKTVZpeE84REZZekxialpIdU8wOHpsT1MxVWRNT2hNOEZubHlPbzRYTzFLdUgyNmp5Q1NNRmpLazBkUnppRnhxR0xXNlVDNjRMbEdZOFcyMmpQdkI4ZEFyYVBrK1QwbG9TNUpOc1VEUUc5MXNQdXRpb3lqVHFoV3R4dGNOYXlIMmRwWDF6MVVXdFV6YVlzcVMrak1nVHRxVFdqMWd3MTU0RFZsTm9QTWJkSDEzVHZlWFVpWjgwdnptL3lhZ3d4VjhoQk9DRlJucERvS21lc051dzJXVlc0RURLcENlaDRTMkJSM25KSkU2ZzVMTXlGZ082bm4rV3Flci9FMmJUMHUxNldkMWJiM1F0ZkdYMDVBYWVpRjV4WEtjMUZaN1czWmFNRlU5MmNnVnFON3NFQjcydG9KVVIwbTBoaEJEY2Z5Tm9wS1F1bm0yaWgyMit3SnBpTks2bzFYRlVZZlBYWStxcWxSUWVqeFlNYkRyQjNMRWpKeXlua1FIazlkWkxEQTRkbmNaSXRXRmp4VkNxK3M2YlNnVXF3VDhsR3RSSURsU3VDazJkNUhCT1lqd2M4RitHeVhEajJ1bUxjcUdqV3o0UlBKMUttbGw0TTNnd25xdmpwNCs1ekVLSSt0TDJ3UWlDbkZZRjNFTWdQR2hHam92K3FFanVBSWdRVHV0cFFjVjFlbk8rM1lNZFZDTlpRL1FtbXk2NXBlNC9IMWwydXRmdmpEbEkzbGRMdkswSFptT3duN3JTMXgybGtXcC9FYTNpN2pCU2Zma1YyOU12bHprWGJ6V24xbVdLMmc4V2x3eGdLNFk2N3dhY0oxb2U0T3lxbkIwR2o4V2YwOTdyQVNyR0FiNU16bmtCRGZaWHVXRWN0WmVZcHZJaFJOU2YyQzRYdk1zNGdUYUVjQWVjWjlIQXVGbFZyTUo3ME1jTHFoYW12a0JkWTRGbTJjeFBtMDY2bllkRVBWQWU1NEdQNEZodnZITUI3MnJVVlBvdFhTVlgwaHF0cTFuOGxrbzF5NjN6eGkxaGkzMEtYVndEVmhhc2tjWGFDL0xaaXJaV0NQZDlQMDJMc1VkZFg2eUhmM1ZWODRJZFcxUngwWFQ5QTdzR01DOUkyb0sxTlpxWGdJRXc0Nks0UGdMWDJPVXR6T1pBdy84M1V4QjUxZDhWbFVJeFZDWDBrQTdKV2c1Q2FFYzJOR1JIWlJyM1pPQUJhM2lvUWpsTUY0b3Y5dWJuM3IxamYrZnF2NTBmOTF6Tk5mMWhMNmJhL1A0TzduLzhEUnJQMGZkRVlBQUE9"
	a := msg.ToMessageList(str)
	util.JsonPrint(a)
	for _,k := range a{
		util.Log.Info(k)
	}
}